"use strict";(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["83769"],{164160:function(v,i,t){t.d(i,{h:()=>D});var l=t(392338),n=t.n(l),e=t(375377),r=t.n(e),_=t(642979),d=t.n(_),E=t(457728),m=t.n(E);function o(u,O){var c=Object.keys(u);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(u);O&&(a=a.filter(function(g){return Object.getOwnPropertyDescriptor(u,g).enumerable})),c.push.apply(c,a)}return c}function s(u){for(var O=1;O<arguments.length;O++){var c=arguments[O]!=null?arguments[O]:{};O%2?o(Object(c),!0).forEach(function(a){d()(u,a,c[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach(function(a){Object.defineProperty(u,a,Object.getOwnPropertyDescriptor(c,a))})}return u}var P=function(O){var c,a={};return s(s(s({},O),{},{nameOrder:(c=O.formFieldFormats)===null||c===void 0?void 0:c.initialNameOrder},O.formFieldFormats),{},{initialValues:a})},D=function(){var u=r()(m().mark(function O(c,a){var g,f,R,h,C,p,T=arguments;return m().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return g=T.length>2&&T[2]!==void 0?T[2]:window,M.next=1,a(g,c.captchaEnabled);case 1:return f=M.sent,R=f.enterpriseRendered,h=f.showRecaptchaBadge,C=c.captchaEnabled&&!R,p=function(){c.captchaEnabled&&R&&h&&h({isLightbox:c.useLightbox,win:g})},M.abrupt("return",P(s(s({},c),{},{captchaEnabled:C,globalOnFocus:p})));case 2:case"end":return M.stop()}},O)}));return function(c,a){return u.apply(this,arguments)}}()},288633:function(v,i,t){t.r(i),t.d(i,{bootstrapVisitorForms:()=>P,updateVisitorForms:()=>D});var l=t(116984),n=t(164160),e=t(349239),r=t(910895),_=t(20036),d=t(537312),E=t(643977),m=t(154210);const o=()=>Object.fromEntries(new URLSearchParams(window.location.search));let s;function P(u){const c=("getDOMNode"in u&&u.getDOMNode()||document).querySelectorAll(".sqs-block-form");s=[],c.forEach(async a=>{if(a.className.includes("sqs-block-website-component")||a.className.includes("sqs-block-form-lightbox")||a.className.includes("donation-form"))return;const{id:g}=a,f=(0,e.S)(a);if(!f){console.error(`Missing form context for block: ${g}, ${JSON.stringify(a)}`);return}if(f.useLightbox)return;const R=(0,r.z)(f,window),{formId:h}=f,C=await(0,n.h)(f,_.Z),p=a.querySelector(".form-wrapper");if(!p){console.error(`Missing formWrapper for block: '${g}'`);return}const T=(0,E.S)(window);(0,d.if)(h);const M={...C,mediaPlatformBaseUrl:T,mediaPlatformLibraryId:h,queryParams:o(),uploadAuthorization:async()=>(0,E.t)(f,window),onSubmit:async A=>(await R(A),!0)};(0,m.S)(M,p),s.push(function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,m.S)({...M,...A},p)})})}function D(u){s.forEach(O=>{O(u)})}},399544:function(v,i,t){var l=t(714487),n=t(517197);(0,n.U)(l.ZP)},116984:function(v,i,t){var l=t(399544)},328690:function(v,i,t){t.d(i,{Z:()=>d});var l=t(174161),n=t(216581),e=t(714487),r=t(308607);const d=E=>{let{translationLocale:m,formattingLocale:o,children:s}=E;return l.createElement(n.Z.Provider,{value:{translationLocale:m,formattingLocale:o,cldrLoader:r.Z,...e.Td}},s)}},58553:function(v,i,t){t.d(i,{Z:()=>o});var l=t(174161),n=t(684353),e=t(691985),r=t(54149),_=t(328690),d=t(119325);function E(){return(e.D===null||e.D===void 0?void 0:e.D.website.language)||(0,d.A)()||r.Z.defaultLocale}function m(){return n.translationLocale}const o=s=>{let{children:P}=s;return l.createElement(_.Z,{translationLocale:m(),formattingLocale:E()},P)}},119325:function(v,i,t){t.d(i,{A:()=>n});var l=t(684353);function n(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;var r,_,d;return(e==null||(d=e.Static)===null||d===void 0||(_=d.SQUARESPACE_CONTEXT)===null||_===void 0||(r=_.website)===null||r===void 0?void 0:r.language)??l.translationLocale}},538117:function(v,i,t){t.d(i,{Jl:()=>_,Oj:()=>d,dU:()=>m,ge:()=>e,ni:()=>r,r8:()=>E});var l=t(787592),n=t(998124);const e=n.getDomain,r=n.isInternal,_=n.isStage,d=n.isQA,E=n.isDev,m=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;var s,P;const D=o==null||(P=o.Static)===null||P===void 0||(s=P.SQUARESPACE_CONTEXT)===null||s===void 0?void 0:s.env;return D||(0,l.$e)(u=>{u.setTag("critical-issue","true"),u.setTag("user_facing","true"),(0,l.Tb)(new Error("Environment is not defined"))}),D}},154210:function(v,i,t){t.d(i,{S:()=>E,n:()=>d});var l=t(116984),n=t(174161),e=t(233284),r=t(360174),_=t(58553);const d=m=>{let{onMount:o,children:s}=m;return(0,n.useEffect)(()=>{o==null||o()},[o]),n.createElement(n.StrictMode,null,n.createElement(_.Z,null,s))},E=(m,o,s)=>{(0,e.render)(n.createElement(d,{onMount:s},n.createElement(r.Z,m)),o)}},643977:function(v,i,t){t.d(i,{S:()=>E,t:()=>m});var l=t(399544),n=t(76149),e=t(528215),r=t(538117);const _="https://media.dev.squarespace.net",d="https://media-api.squarespace.com",E=o=>(0,r.Jl)(o)||(0,r.Oj)(o)||(0,r.r8)(o)?_:d,m=async(o,s)=>{let P;const D=E(s),u=o.formId;return o.captchaEnabled&&(P=await e.TJ(s,e.aI.FORM_BLOCK)),P==null?{status:400,errorMessage:"File Upload ReCAPTCHA token null or undefined",token:null}:await n.g.getShortLivedTokenFromRecaptchaValidationEndpoint(P,D,u)}},349239:function(v,i,t){t.d(i,{S:()=>l});const l=n=>{const e=n.querySelector("script.sqs-form-block-context"),r=n.querySelector("script.sqs-form-block-localized-strings"),_=n.querySelector(".sqs-form-block-submission-html"),d=(_==null?void 0:_.getAttribute("data-submission-html"))??void 0;try{if(r!=null&&r.textContent){const E=JSON.parse(r==null?void 0:r.textContent);return e!=null&&e.textContent?{formSubmissionHTML:d,...JSON.parse(e.textContent),localizedStrings:E}:null}return e!=null&&e.textContent?{formSubmissionHTML:d,...JSON.parse(e.textContent)}:null}catch{throw new Error("Error parsing the JSON form context")}}},910895:function(v,i,t){t.d(i,{z:()=>o});var l=t(456903),n=t(739233),e=t(537312),r=t(528215);const _="/api/form/FormSubmissionKey",d="/api/form/SaveFormSubmission",E={withCredentials:!0},m=async(s,P,D)=>{const{data:u}=await l.default.post(_),{key:O}=u;if(!O)throw new Error("Got invalid form submission key");const c=()=>r.TJ(D,r.aI.FORM_BLOCK),a=await(0,n.Q)({key:O,formData:P,formContext:s,getRecaptchaEnterpriseV3Token:c});return(0,e._5)(a),l.default.post(d,a,E)},o=(s,P)=>D=>m(s,D,P)},20036:function(v,i,t){t.d(i,{Z:()=>r});var l=t(528215),n=t(304212);const r=async function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;if(arguments.length>1?arguments[1]:void 0){const E=(0,n.Z)(_);return await l.DU(_,E),{enterpriseRendered:!0,showRecaptchaBadge:l.ZQ}}return{enterpriseRendered:!1}}}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/83b78571895686ba/async-visitor-forms-ebc0f461dd1cf22c-min.en-US.js.map